# 项目说明文档

## 1. 项目规划
### 1.1 项目背景
构建一个面向全球的个人品牌网站，用于展示个人能力、解决方案及认知领域，并包含博客功能。

### 1.2 核心需求
1.  **托管方案**：优先国外免费托管（GitHub/Cloudflare），备选阿里云 ECS。
2.  **功能模块**：
    *   能力展示（Portfolio/Services）
    *   解决方案（Case Studies）
    *   认知领域（Blog/Articles）
    *   社交媒体链接
3.  **非功能需求**：部署简单，维护成本低。

## 2. 实施方案
### 2.1 技术选型（已确认）
*   **框架**：Astro (v5.x) - 极致性能，内容驱动
*   **语言**：TypeScript
*   **样式**：Tailwind CSS
*   **部署**：Cloudflare Pages
*   **设计参考**：[Figma Design](https://www.figma.com/design/TrxfzUrcZ3Nyg7PbpIF0Vi/Personal-website-%7C-Portfolio--Community-)
*   **统计**：Google Analytics

### 2.2 进度规划
*   [x] **P0: 需求分析与技术选型** (已完成)
*   [x] **P1: 项目初始化与基础架构搭建** (已完成)
    *   Astro 项目初始化
    *   Tailwind CSS 配置
    *   Figma 样式提取（颜色/字体）
    *   i18n 多语言架构 (en/zh)
*   [x] **P2: 首页与核心展示页开发** (已完成初稿)
    *   Hero Section (响应式)
    *   能力展示模块 (Products/Services)
    *   联系方式与社交媒体模块
*   [x] **P3: 博客系统集成 (Markdown/MDX)** (已完成)
    *   Content Collections 数据结构
    *   双语文章关联
*   [x] **P4: 部署与SEO/统计** (进行中)
    *   [x] Cloudflare 部署 (已完成)
    *   [ ] GA 代码植入 (用户注册中)
    *   [ ] Sitemap 配置
    *   [ ] 域名绑定 (待内容填充后)

## 3. 进度记录
| 时间 | 事项 | 状态 | 备注 |
| :--- | :--- | :--- | :--- |
| 2026-01-19 | 项目启动，创建说明文档 | 已完成 | 需求讨论阶段 |
| 2026-01-19 | 项目初始化 & Tailwind 集成 | 已完成 | 解决沙盒权限与 V4 适配问题 |
| 2026-01-19 | 博客系统 (i18n & Content Collections) | 已完成 | 实现双语博客与关联逻辑 |
| 2026-01-19 | 首页 UI 改版 (Contact/Products) | 已完成 | 细化联系方式与图标 |
| 2026-01-19 | 准备部署 (Git Init & Build Check) | 已完成 | 验证构建无误，初始化 Git 仓库 |
| 2026-01-19 | Cloudflare Pages 上线 | 已完成 | 配置 _redirects 解决路由白屏问题 |
| 2026-01-21 | 移动端导航栏优化 | 已完成 | 增加汉堡菜单，适配小屏幕显示 |

## 4. 网站内容修改指南

### 4.1 核心内容修改

#### 1. 首页 (Home)
首页内容主要集中在 `src/components/Home.astro` 文件中，部分文本配置在 `src/i18n/ui.ts`。

*   **文本内容修改**：
    *   **Banner/Hero区域**：
        *   标题/角色：在 `src/components/Home.astro` 中搜索 `Hero Section` 修改 hardcoded 文本。
        *   自我介绍：修改 `src/i18n/ui.ts` 中的 `hero.desc`。
    *   **产品/服务列表**：
        *   在 `src/components/Home.astro` 顶部的 `const products` 和 `const services` 数组中修改。
        *   支持根据语言 (`lang === 'en'`) 设置不同内容。
    *   **联系方式/社交媒体**：
        *   在 `src/components/Home.astro` 顶部的 `contactLinks` 和 `socialLinks` 数组中修改。

*   **图片资源替换**：
    *   图片文件存放在 `public/images/` 目录下。
    *   首页头像：替换 `src/components/Home.astro` 中 `User Image` 占位符或背景图设置。

#### 2. 文章/书籍页 (Blog/Books)
内容采用 Markdown/MDX 管理，位于 `src/content/` 目录。

*   **新增文章**：
    1.  在 `src/content/blog/` 下新建目录（如 `en/my-post.md` 或 `zh/my-post.md`）。
    2.  Frontmatter 配置示例：
        ```yaml
        ---
        title: '文章标题'
        description: '文章简介'
        pubDate: '2024-01-21'
        heroImage: '/images/blog/cover.jpg'
        ---
        ```
*   **书籍推荐**：
    *   路径：`src/content/books/`。
    *   包含 `coreIdea` (核心思想), `practicalGuidance` (实践指南) 等特有字段。

### 4.2 导航栏设计规范

导航栏目前在各页面/组件中独立定义（未来可重构为统一组件）。

*   **配置文件位置**：
    *   菜单文本：`src/i18n/ui.ts` 中的 `ui.en` 和 `ui.zh` 对象。
    *   HTML结构与链接：`src/components/Home.astro` (首页) 和 `src/pages/[lang]/books/[...slug].astro` (书籍页) 等文件中的 `<nav>` 标签内。

*   **修改步骤**：
    1.  **添加菜单项**：
        *   第一步：在 `src/i18n/ui.ts` 添加中英文 Key-Value，如 `'nav.new': 'New Item'`。
        *   第二步：在 `src/components/Home.astro` 的 `<nav>` 区域添加 `<a href="/new-link">{t('nav.new')}</a>`。
    2.  **样式调整**：
        *   使用 Tailwind CSS 类名直接控制。
        *   响应式：`md:flex` 控制桌面端显示，`md:hidden` 控制移动端显示。
        *   移动端菜单逻辑位于底部的 `<script>` 标签中。

### 4.3 操作注意事项

*   **备份建议**：修改前请确保 Git 仓库干净 (`git status`)，并新建分支进行修改。
*   **本地验证**：
    *   运行 `npm run dev` 启动本地服务器。
    *   访问 `http://localhost:4321` 检查中英文切换是否正常。
*   **提交规范**：
    *   使用 `git commit -m "docs: update content guide"` 等符合约定的提交信息。
    *   推送到 GitHub 后 Cloudflare 会自动触发构建部署。
